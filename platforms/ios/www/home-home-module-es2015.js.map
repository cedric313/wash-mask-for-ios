{"version":3,"sources":["./src/app/home/home.page.html","./src/app/home/home-routing.module.ts","./src/app/home/home.module.ts","./src/app/home/home.page.scss","./src/app/home/home.page.ts"],"names":[],"mappings":"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","file":"home-home-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-menu-button></ion-menu-button>\\n        </ion-buttons>\\n        <ion-title>\\n            Family members\\n        </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n    <ion-content>\\n        <ion-fab horizontal=\\\"end\\\" slot=\\\"fixed\\\" vertical=\\\"bottom\\\">\\n            <ion-fab-button (click)=\\\"wantCreateMemberFamily()\\\" color=\\\"success\\\" style=\\\"width: 33px; height: 33px\\\">\\n                <ion-icon name=\\\"person-add-outline\\\"></ion-icon>\\n            </ion-fab-button>\\n        </ion-fab>\\n\\n        <ion-card *ngIf=\\\"isWantCreateMemberFamily\\\">\\n            <form [formGroup]=\\\"familyMembersCreateValidator\\\">\\n                <ion-item>\\n                    <ion-label>\\n                        <ion-icon name=\\\"person\\\"></ion-icon>\\n                    </ion-label>\\n                    <ion-input [(ngModel)]=\\\"member.firstName\\\" formControlName=\\\"name\\\" placeholder=\\\"First name\\\"\\n                               type=\\\"text\\\"></ion-input>\\n                </ion-item>\\n                <div style=\\\"display: flex; align-items: center; align-content: center; justify-content: center\\\">\\n                    <ion-button (click)=\\\"createFamilyMember()\\\" [disabled]=\\\"!familyMembersCreateValidator.valid\\\" color=\\\"success\\\"\\n                                shape=\\\"round\\\">Create member family\\n                    </ion-button>\\n                </div>\\n            </form>\\n        </ion-card>\\n\\n        <ion-list *ngFor=\\\"let family of familyMembersFromDb; let i = index\\\"\\n                  [ngStyle]=\\\"{'filter':isWantCreateMemberFamily === true ? 'blur(4px)' : 'blur(0px)' }\\\">\\n            <ion-card (click)=\\\"goMask(family.id)\\\">\\n                <ion-card-header>\\n                    <div style=\\\"display: flex; justify-content: space-between; align-items: center\\\">\\n                        <ion-card-title>Mask(s) of {{family.firstName}}</ion-card-title>\\n                        <ion-button (click)=\\\"showAlertDeletedMember(family.id)\\\" color=\\\"danger\\\" style=\\\"font-size: 10px\\\">\\n                            <ion-icon name=\\\"trash\\\" style=\\\"font-size: 20px\\\"></ion-icon>\\n                        </ion-button>\\n                    </div>\\n                </ion-card-header>\\n            </ion-card>\\n        </ion-list>\\n    </ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { HomePage } from './home.page';\n\nimport { HomePageRoutingModule } from './home-routing.module';\nimport {FamilyPageModule} from '../family/family.module';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        HomePageRoutingModule,\n        FamilyPageModule,\n        ReactiveFormsModule\n    ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jZWRyaWMvRG9jdW1lbnRzL2lvbmljL3dhc2gtbWFzay1mb3ItaW9zL3NyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBRUEsa0JBQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLFFBQUE7RUFDQSwyQkFBQTtBQ0FGOztBREdBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0FDQUY7O0FER0E7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7RUFFQSxjQUFBO0VBRUEsU0FBQTtBQ0ZGOztBREtBO0VBQ0UscUJBQUE7QUNGRiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjY29udGFpbmVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIHRvcDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG59XG5cbiNjb250YWluZXIgc3Ryb25nIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBsaW5lLWhlaWdodDogMjZweDtcbn1cblxuI2NvbnRhaW5lciBwIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBsaW5lLWhlaWdodDogMjJweDtcblxuICBjb2xvcjogIzhjOGM4YztcblxuICBtYXJnaW46IDA7XG59XG5cbiNjb250YWluZXIgYSB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn0iLCIjY29udGFpbmVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xufVxuXG4jY29udGFpbmVyIHN0cm9uZyB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDI2cHg7XG59XG5cbiNjb250YWluZXIgcCB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgbGluZS1oZWlnaHQ6IDIycHg7XG4gIGNvbG9yOiAjOGM4YzhjO1xuICBtYXJnaW46IDA7XG59XG5cbiNjb250YWluZXIgYSB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn0iXX0= */\";","import {Component, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {UserService} from '../services/user.service';\nimport {FamilymembersService} from '../services/familymembers.service';\nimport {MaskService} from '../services/mask.service';\nimport {FamilyMembers} from '../FamilyMembers';\nimport {AlertController, LoadingController, ToastController} from '@ionic/angular';\nimport {FormBuilder, Validators} from '@angular/forms';\n\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage implements OnInit{\n  user = {};\n  member: FamilyMembers = new FamilyMembers();\n  buttonText: any = \"Back\";\n  buttonIcon: any = \"arrow-back\";\n  familyMembersFromDb: any;\n  isWantCreateMemberFamily = false;\n  familyMembersCreateValidator: any;\n  private isLoading: boolean = false;\n\n  constructor(private familymembersService: FamilymembersService,\n              private userService: UserService,\n              private maskService: MaskService,\n              private router: Router,\n              private alertCtrl: AlertController,\n              private formBuilder: FormBuilder,\n              private loadingController: LoadingController,\n              private toastController: ToastController) {\n    {\n      this.familyMembersCreateValidator = this.formBuilder.group({\n        name: ['', Validators.required]\n      });}\n  }\n\n  ngOnInit() {\n    this.user = this.userService.user;\n    console.log(this.userService.user.familyMembers);\n    this.getAllFamilyMembers();\n  }\n\n  getAllFamilyMembers() {\n    this.present();\n    const subscription = this.familymembersService.findFamilyMembers().subscribe(\n        value => {console.log(value), this.familyMembersFromDb = value },\n        error => {this.dismiss(),this.presentToast(error,2000)},\n        () => {this.dismiss(),subscription.unsubscribe()}\n    )\n  }\n\n  createFamilyMember(){\n    this.present();\n    const subscription = this.familymembersService.createFamilyMember(this.member).subscribe(\n        value => this.userService.user.familyMembers.push(value),\n        error => {this.dismiss(),\n            this.presentToast(error,2000)},\n\n        () => {\n          this.dismiss(),\n              this.member.firstName = \"\",\n              this.isWantCreateMemberFamily = false,\n              this.getAllFamilyMembers(),\n              subscription.unsubscribe()});\n  }\n\n  goMask(index) {\n    this.maskService.idMemberFamilyToCreateMask = index;\n    console.log(index);\n    console.log(this.maskService.idMemberFamilyToCreateMask);\n    this.router.navigateByUrl('mask');\n  }\n\n  wantCreateMemberFamily() {\n    this.isWantCreateMemberFamily = !this.isWantCreateMemberFamily;\n  }\n\n  deleteMember(idMember) {\n    let reset = [];\n    this.present();\n    const subscription = this.familymembersService.deleteMember(idMember).subscribe(\n        response => {this.userService.user.familyMembers = reset},\n        error => { this.dismiss(),\n            console.log(error),\n            this.presentToast(error,2000)},\n        () => {\n          this.getAllFamilyMembers(),\n              this.dismiss(),\n              subscription.unsubscribe()}\n    );\n  }\n\n  async presentToast(message: string, duration?: number) {\n    const toast = await this.toastController.create({\n      message: message,\n      duration: duration\n    });\n    toast.present();\n  }\n\n  async showAlertDeletedMember(idMember) {\n    const confirm = await this.alertCtrl.create({\n      header: 'Delete member family',\n      message: 'Are you sure?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('Confirm Cancel');\n          }\n        },\n        {\n          text: 'Okay',\n          handler: () => {\n            {this.deleteMember(idMember),\n                console.log(\"confirm user\")};\n          }\n        }\n      ]\n    });\n    await confirm.present();\n  }\n\n  async present() {\n    this.isLoading = true;\n    return await this.loadingController.create({\n      // duration: 5000,\n    }).then(a => {\n      a.present().then(() => {\n        console.log('presented');\n        if (!this.isLoading) {\n          a.dismiss().then(() => console.log('abort presenting'));\n        }\n      });\n    });\n  }\n\n  async dismiss() {\n    this.isLoading = false;\n    return await this.loadingController.dismiss().then(() => console.log('dismissed'));\n  }\n\n}\n"],"sourceRoot":"webpack:///"}