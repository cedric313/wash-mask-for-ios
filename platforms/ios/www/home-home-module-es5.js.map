{"version":3,"sources":["webpack:///src/app/home/home.page.html","webpack:///src/app/home/home-routing.module.ts","webpack:///src/app/home/home.module.ts","webpack:///src/app/home/home.page.scss","webpack:///src/app/home/home.page.ts"],"names":["routes","path","component","HomePageRoutingModule","imports","forChild","exports","HomePageModule","declarations","HomePage","familymembersService","userService","maskService","router","alertCtrl","formBuilder","loadingController","toastController","user","member","buttonText","buttonIcon","isWantCreateMemberFamily","isLoading","familyMembersCreateValidator","group","name","required","console","log","familyMembers","getAllFamilyMembers","present","subscription","findFamilyMembers","subscribe","value","familyMembersFromDb","error","dismiss","presentToast","unsubscribe","createFamilyMember","push","firstName","index","idMemberFamilyToCreateMask","navigateByUrl","idMember","reset","deleteMember","response","message","duration","create","toast","header","buttons","text","role","handler","confirm","then","a","selector","template"],"mappings":"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","file":"home-home-module-es5.js","sourcesContent":["export default \"<ion-header>\\n    <ion-toolbar>\\n        <ion-buttons slot=\\\"start\\\">\\n            <ion-menu-button></ion-menu-button>\\n        </ion-buttons>\\n        <ion-title>\\n            Family members\\n        </ion-title>\\n    </ion-toolbar>\\n</ion-header>\\n\\n    <ion-content>\\n        <ion-fab horizontal=\\\"end\\\" slot=\\\"fixed\\\" vertical=\\\"bottom\\\">\\n            <ion-fab-button (click)=\\\"wantCreateMemberFamily()\\\" color=\\\"success\\\" style=\\\"width: 33px; height: 33px\\\">\\n                <ion-icon name=\\\"person-add-outline\\\"></ion-icon>\\n            </ion-fab-button>\\n        </ion-fab>\\n\\n        <ion-card *ngIf=\\\"isWantCreateMemberFamily\\\">\\n            <form [formGroup]=\\\"familyMembersCreateValidator\\\">\\n                <ion-item>\\n                    <ion-label>\\n                        <ion-icon name=\\\"person\\\"></ion-icon>\\n                    </ion-label>\\n                    <ion-input [(ngModel)]=\\\"member.firstName\\\" formControlName=\\\"name\\\" placeholder=\\\"First name\\\"\\n                               type=\\\"text\\\"></ion-input>\\n                </ion-item>\\n                <div style=\\\"display: flex; align-items: center; align-content: center; justify-content: center\\\">\\n                    <ion-button (click)=\\\"createFamilyMember()\\\" [disabled]=\\\"!familyMembersCreateValidator.valid\\\" color=\\\"success\\\"\\n                                shape=\\\"round\\\">Create member family\\n                    </ion-button>\\n                </div>\\n            </form>\\n        </ion-card>\\n\\n        <ion-list *ngFor=\\\"let family of familyMembersFromDb; let i = index\\\"\\n                  [ngStyle]=\\\"{'filter':isWantCreateMemberFamily === true ? 'blur(4px)' : 'blur(0px)' }\\\">\\n            <ion-card (click)=\\\"goMask(family.id)\\\">\\n                <ion-card-header>\\n                    <div style=\\\"display: flex; justify-content: space-between; align-items: center\\\">\\n                        <ion-card-title>Mask(s) of {{family.firstName}}</ion-card-title>\\n                        <ion-button (click)=\\\"showAlertDeletedMember(family.id)\\\" color=\\\"danger\\\" style=\\\"font-size: 10px\\\">\\n                            <ion-icon name=\\\"trash\\\" style=\\\"font-size: 20px\\\"></ion-icon>\\n                        </ion-button>\\n                    </div>\\n                </ion-card-header>\\n            </ion-card>\\n        </ion-list>\\n    </ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { HomePage } from './home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HomePage,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class HomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { HomePage } from './home.page';\n\nimport { HomePageRoutingModule } from './home-routing.module';\nimport {FamilyPageModule} from '../family/family.module';\n\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        IonicModule,\n        HomePageRoutingModule,\n        FamilyPageModule,\n        ReactiveFormsModule\n    ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \"#container {\\n  text-align: center;\\n  position: absolute;\\n  left: 0;\\n  right: 0;\\n  top: 50%;\\n  transform: translateY(-50%);\\n}\\n\\n#container strong {\\n  font-size: 20px;\\n  line-height: 26px;\\n}\\n\\n#container p {\\n  font-size: 16px;\\n  line-height: 22px;\\n  color: #8c8c8c;\\n  margin: 0;\\n}\\n\\n#container a {\\n  text-decoration: none;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jZWRyaWMvRG9jdW1lbnRzL2lvbmljL3dhc2gtbWFzay1mb3ItaW9zL3NyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyIsInNyYy9hcHAvaG9tZS9ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGtCQUFBO0VBRUEsa0JBQUE7RUFDQSxPQUFBO0VBQ0EsUUFBQTtFQUNBLFFBQUE7RUFDQSwyQkFBQTtBQ0FGOztBREdBO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0FDQUY7O0FER0E7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7RUFFQSxjQUFBO0VBRUEsU0FBQTtBQ0ZGOztBREtBO0VBQ0UscUJBQUE7QUNGRiIsImZpbGUiOiJzcmMvYXBwL2hvbWUvaG9tZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjY29udGFpbmVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIHRvcDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XG59XG5cbiNjb250YWluZXIgc3Ryb25nIHtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBsaW5lLWhlaWdodDogMjZweDtcbn1cblxuI2NvbnRhaW5lciBwIHtcbiAgZm9udC1zaXplOiAxNnB4O1xuICBsaW5lLWhlaWdodDogMjJweDtcblxuICBjb2xvcjogIzhjOGM4YztcblxuICBtYXJnaW46IDA7XG59XG5cbiNjb250YWluZXIgYSB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn0iLCIjY29udGFpbmVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICB0b3A6IDUwJTtcbiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xufVxuXG4jY29udGFpbmVyIHN0cm9uZyB7XG4gIGZvbnQtc2l6ZTogMjBweDtcbiAgbGluZS1oZWlnaHQ6IDI2cHg7XG59XG5cbiNjb250YWluZXIgcCB7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgbGluZS1oZWlnaHQ6IDIycHg7XG4gIGNvbG9yOiAjOGM4YzhjO1xuICBtYXJnaW46IDA7XG59XG5cbiNjb250YWluZXIgYSB7XG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbn0iXX0= */\";","import {Component, OnInit} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {UserService} from '../services/user.service';\nimport {FamilymembersService} from '../services/familymembers.service';\nimport {MaskService} from '../services/mask.service';\nimport {FamilyMembers} from '../FamilyMembers';\nimport {AlertController, LoadingController, ToastController} from '@ionic/angular';\nimport {FormBuilder, Validators} from '@angular/forms';\n\n\n@Component({\n  selector: 'app-home',\n  templateUrl: 'home.page.html',\n  styleUrls: ['home.page.scss'],\n})\nexport class HomePage implements OnInit{\n  user = {};\n  member: FamilyMembers = new FamilyMembers();\n  buttonText: any = \"Back\";\n  buttonIcon: any = \"arrow-back\";\n  familyMembersFromDb: any;\n  isWantCreateMemberFamily = false;\n  familyMembersCreateValidator: any;\n  private isLoading: boolean = false;\n\n  constructor(private familymembersService: FamilymembersService,\n              private userService: UserService,\n              private maskService: MaskService,\n              private router: Router,\n              private alertCtrl: AlertController,\n              private formBuilder: FormBuilder,\n              private loadingController: LoadingController,\n              private toastController: ToastController) {\n    {\n      this.familyMembersCreateValidator = this.formBuilder.group({\n        name: ['', Validators.required]\n      });}\n  }\n\n  ngOnInit() {\n    this.user = this.userService.user;\n    console.log(this.userService.user.familyMembers);\n    this.getAllFamilyMembers();\n  }\n\n  getAllFamilyMembers() {\n    this.present();\n    const subscription = this.familymembersService.findFamilyMembers().subscribe(\n        value => {console.log(value), this.familyMembersFromDb = value },\n        error => {this.dismiss(),this.presentToast(error,2000)},\n        () => {this.dismiss(),subscription.unsubscribe()}\n    )\n  }\n\n  createFamilyMember(){\n    this.present();\n    const subscription = this.familymembersService.createFamilyMember(this.member).subscribe(\n        value => this.userService.user.familyMembers.push(value),\n        error => {this.dismiss(),\n            this.presentToast(error,2000)},\n\n        () => {\n          this.dismiss(),\n              this.member.firstName = \"\",\n              this.isWantCreateMemberFamily = false,\n              this.getAllFamilyMembers(),\n              subscription.unsubscribe()});\n  }\n\n  goMask(index) {\n    this.maskService.idMemberFamilyToCreateMask = index;\n    console.log(index);\n    console.log(this.maskService.idMemberFamilyToCreateMask);\n    this.router.navigateByUrl('mask');\n  }\n\n  wantCreateMemberFamily() {\n    this.isWantCreateMemberFamily = !this.isWantCreateMemberFamily;\n  }\n\n  deleteMember(idMember) {\n    let reset = [];\n    this.present();\n    const subscription = this.familymembersService.deleteMember(idMember).subscribe(\n        response => {this.userService.user.familyMembers = reset},\n        error => { this.dismiss(),\n            console.log(error),\n            this.presentToast(error,2000)},\n        () => {\n          this.getAllFamilyMembers(),\n              this.dismiss(),\n              subscription.unsubscribe()}\n    );\n  }\n\n  async presentToast(message: string, duration?: number) {\n    const toast = await this.toastController.create({\n      message: message,\n      duration: duration\n    });\n    toast.present();\n  }\n\n  async showAlertDeletedMember(idMember) {\n    const confirm = await this.alertCtrl.create({\n      header: 'Delete member family',\n      message: 'Are you sure?',\n      buttons: [\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('Confirm Cancel');\n          }\n        },\n        {\n          text: 'Okay',\n          handler: () => {\n            {this.deleteMember(idMember),\n                console.log(\"confirm user\")};\n          }\n        }\n      ]\n    });\n    await confirm.present();\n  }\n\n  async present() {\n    this.isLoading = true;\n    return await this.loadingController.create({\n      // duration: 5000,\n    }).then(a => {\n      a.present().then(() => {\n        console.log('presented');\n        if (!this.isLoading) {\n          a.dismiss().then(() => console.log('abort presenting'));\n        }\n      });\n    });\n  }\n\n  async dismiss() {\n    this.isLoading = false;\n    return await this.loadingController.dismiss().then(() => console.log('dismissed'));\n  }\n\n}\n"]}